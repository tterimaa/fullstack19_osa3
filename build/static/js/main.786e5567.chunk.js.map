{"version":3,"sources":["components/Numbers.js","components/PersonForm.js","services/persons.js","components/notification.js","components/filter.js","components/App.js","index.js"],"names":["Numbers","_ref","persons","deletePerson","filter","filteredPersons","reduce","result","person","RegExp","test","nimi","push","console","log","map","p","index","react_default","a","createElement","key","concat","numero","onClick","id","PersonForm","submit","nameValue","nameHandler","numberValue","numberHandler","onSubmit","value","onChange","type","baseUrl","services_persons","axios","get","then","response","data","newPerson","post","delete","changedPerson","put","Notification","text","className","Filter","changeHandler","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","message","setMessage","useEffect","personsService","initialPersons","showMessage","messageText","emptyMessage","setTimeout","notification","components_filter","event","target","components_PersonForm","preventDefault","includes","window","confirm","find","objectSpread","catch","error","returnedPerson","components_Numbers","i","name","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.786e5567.chunk.js","sourcesContent":["import React from 'react'\n\nconst Numbers = ({persons, deletePerson, filter}) => {\n    const filteredPersons = persons.reduce((result, person) => {\n        if(new RegExp('^.*' + filter + '.*$', 'i').test(person.nimi)) {\n            result.push(person)\n        }\n        return result\n    }, [])\n\n    console.log(filteredPersons)\n   \n    return filteredPersons.map((p, index) => \n        <div key={index}>\n            {`${p.nimi} ${p.numero} `}\n            <button onClick={() => deletePerson(p.id,p.nimi)}>poista</button>\n        </div>\n        )\n}\n\nexport default Numbers","import React from 'react'\n\nconst PersonForm = ({submit, nameValue, nameHandler, numberValue, numberHandler}) =>\n    <form onSubmit={submit}>\n    <div>\n      nimi: <input value={nameValue} onChange={nameHandler} />\n    </div>\n    <div>\n      numero: <input value={numberValue} onChange={numberHandler} />\n    </div>\n    <div>\n      <button type=\"submit\">lisää</button>\n    </div>\n    </form>\n\nexport default PersonForm","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newPerson => {\n    const request = axios.post(baseUrl, newPerson) \n    return request.then(response => response.data)\n}\n\nconst deletePerson = key => {\n    return axios.delete(`${baseUrl}/${key}`)\n}\n\nconst changePerson = (changedPerson, id) => {\n    return axios.put(`${baseUrl}/${id}`, changedPerson)\n}\n\nexport default {\n    getAll,\n    create,\n    deletePerson,\n    changePerson\n}","import React from 'react'\n\nconst Notification = ({text, type}) => {\n    console.log(text, type)\n    if(text === \"\") return null\n\n    return(\n        <div className={type}>\n            {text}\n        </div>\n    )\n}\n\nexport default Notification","import React from 'react'\n\nconst Filter = ({changeHandler}) => {\n    return(\n        <div>\n            filter shown with\n            <input onChange={changeHandler} />\n        </div>\n    )\n}\n\nexport default Filter","import React, { useState, useEffect } from 'react'\nimport Numbers from './Numbers'\nimport PersonForm from './PersonForm'\nimport personsService from '../services/persons'\nimport Notification from './notification'\nimport Filter from './filter'\nimport './index.css'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [ message, setMessage ] = useState({\n    text: \"\",\n    type: \"\"\n  })\n\n  useEffect(() => {\n    personsService\n    .getAll()\n    .then(initialPersons => {\n      console.log(\"response: \", initialPersons)\n        setPersons(initialPersons)\n    })\n  }, [])\n\n  const handleNameChange = (event) => {\n      setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n      setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const handleDeletePerson = (i,name) => {\n    if(!window.confirm(`do you want to delete ${name}`)) return;\n    personsService.deletePerson(i)\n    setPersons(persons.filter(person => person.id !== i))\n    showMessage(`${name} was succesfully removed`, \"success\")\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    if(persons.map(p => p.nimi).includes(newName)) {\n        if(window.confirm(\"korvataanko vanha nro uudella\")) {\n          const person = persons.find(p => p.nimi === newName)\n          const changedPerson = {...person, numero: newNumber}\n          \n          personsService\n          .changePerson(changedPerson, person.id)\n          .then(response => {\n            setPersons(persons.map(p => p.id !== person.id ? p : response.data))\n            showMessage(`Number of ${changedPerson.nimi}   was succesfully changed`, \"success\")\n          })\n          .catch(error => {\n            showMessage(`Information of ${newName} has been already removed from the server`, \"error\")\n            console.log(error)\n          })\n        }\n    } else {\n        const personObject = {\n            nimi: newName,\n            numero: newNumber\n        }\n\n        personsService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          showMessage(`${returnedPerson.nimi} was added succesfully`, \"success\")\n        })\n      }\n      setNewName('')\n      setNewNumber('')\n    }\n\n    const showMessage = (messageText, type) => {\n      console.log(messageText, type)\n      const timeOutTime = 5000;\n\n      const newMessage = {\n        text: messageText,\n        type: type\n      }\n      const emptyMessage = {\n        text: \"\",\n        type: \"\"\n      }\n      setMessage(newMessage)\n      setTimeout(() => {\n        setMessage(emptyMessage)\n      }, timeOutTime)\n    }\n\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n      <Notification text={message.text} type={message.type} />\n      <Filter changeHandler={handleFilterChange} />\n      <PersonForm submit={addPerson} nameValue={newName} nameHandler={handleNameChange} numberValue={newNumber} numberHandler={handleNumberChange} />   \n      <h2>Numerot</h2>\n      <Numbers persons={persons} deletePerson={handleDeletePerson} filter={filter} />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}